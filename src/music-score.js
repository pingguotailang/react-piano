///格式说明：name-名称
///miniTime:可记录为一个音符或音符最小分位时长
///kes:音符数组，每个音符包含三个属性[key：音符值,delay：到下个音符的时延,upTime：琴键从按下到抬起时延]
///因琴键抬起效果仅为视觉效果，因此琴谱未标记琴键弹起时延值。
const musicList = [
    {
        name: '天空之城',
        miniTime: 200,
        keys: [
            ['a4', 1],
            ['b4', 1],
            ['c5', 3],
            ['b4', 1],
            ['c5', 2],
            ['e5', 2],
            ['b4', 6],
            ['e4', 1],
            ['e4', 1],
            ['a4', 3],
            ['g4', 1],
            ['a4', 2],
            ['c5', 2],
            ['g4', 6],
            ['e4', 1],
            ['e4', 1],
            ['f4', 3],
            ['e4', 1],
            ['f4', 1],
            ['c5', 3]
        ]
    },
    {
        name: '小星星',
        miniTime: 200,
        keys: [
            ['c4', 1],
            ['c4', 1],
            ['g4', 1],
            ['g4', 1],

            ['a4', 1],
            ['a4', 1],
            ['g4', 2],

            ['f4', 1],
            ['f4', 1],
            ['e4', 1],
            ['e4', 1],

            ['d4', 1],
            ['d4', 1],
            ['c4', 2],

        ]
    },
    {
        type: 'easy',
        name: '我和我的祖国',
        miniTime: 200,
        keys: [
            ['54', 1],
            ['64', 1],
            ['54', 1],
            ['44', 1],
            ['34', 1],
            ['24', 1],

            ['14', 3],
            ['53', 3],

            ['14', 1],
            ['34', 1],
            ['15', 1],
            ['74', 1],
            ['64', 1.5],
            ['34', 0.5],

            ['54', 6],

            ['64', 1],
            ['74', 1],
            ['64', 1],
            ['54', 1],
            ['44', 1],
            ['34', 1],

            ['24', 3],
            ['63', 3],

            ['73', 1],
            ['63', 1],
            ['53', 1],
            ['54', 1],
            ['14', 1.5],
            ['24', 0.5],

            ['34', 6],

            ['54', 1],
            ['64', 1],
            ['54', 1],
            ['44', 1],
            ['34', 1],
            ['24', 1],

            ['14', 3],
            ['53', 3],

            ['14', 1],
            ['34', 1],
            ['15', 1],
            ['74', 1],
            ['25', 1.5],
            ['15', 0.5],

            ['64', 6],

            ['15', 1],
            ['74', 1],
            ['64', 1],
            ['54', 3],

            ['64', 1],
            ['54', 1],
            ['44', 1],
            ['34', 3],

            ['73', 2],
            ['63', 1],
            ['53', 2],
            ['24', 1],

            ['14', 6],

            ['15', 1],
            ['25', 1],
            ['35', 1],
            ['25', 1],
            ['15', 1],
            ['64', 1],

            ['74', 1],
            ['64', 1.5],
            ['34', 0.5],
            ['54', 3],

            ['15', 1],
            ['25', 1],
            ['35', 1],
            ['25', 1],
            ['15', 1],
            ['64', 1],

            ['74', 1],
            ['54', 1.5],
            ['34', 0.5],
            ['64', 3],

            ['54', 1],
            ['44', 1],
            ['34', 1],
            ['24', 3],

            ['73', 1],
            ['63', 0.5],
            ['63', 0.5],
            ['53', 1],
            ['34', 3],

            ['44', 3],
            ['24', 2],
            ['14', 1],

            ['14', 5],

            ['15', 1],
            ['25', 1],
            ['35', 1],
            ['25', 1],
            ['15', 1],
            ['64', 1],

            ['74', 1],
            ['64', 1.5],
            ['34', 0.5],
            ['54', 3],

            ['15', 1],
            ['25', 1],
            ['35', 1],
            ['25', 1],
            ['15', 1],
            ['64', 1],

            ['74', 1],
            ['54', 1.5],
            ['34', 0.5],
            ['64', 3],

            ['54', 1],
            ['44', 1],
            ['34', 1],
            ['24', 3],

            ['73', 1],
            ['63', 1],
            ['53', 1],
            ['34', 3],

            ['54', 3],
            ['26', 2],
            ['15', 1],

            ['16', 3],
            ['15', 3],

        ]
    }
]

export const musicScoreConvert = (mics) => {
    const config = {
        '1': 'c',
        '2': 'd',
        '3': 'e',
        '4': 'f',
        '5': 'g',
        '6': 'a',
        '7': 'b'
    }
    let _mics = [];
    mics.forEach((mic) => {
        if (mic.type && mic.type === 'easy'){
            let returnMic = {};
            returnMic.name = mic.name;
            returnMic.miniTime = mic.miniTime;
            returnMic.keys = [];
            if (mic && mic.keys) {
                mic.keys.map((value, index) => {
                    let a = config[value[0].charAt(0)] + value[0].charAt(1);
                    let b = value[1];
                    returnMic.keys.push([a, b]);
                })
            }
            _mics.push(returnMic);
        }else{
            _mics.push(mic);
        }
    })
    return _mics;
}
export default musicScoreConvert(musicList);